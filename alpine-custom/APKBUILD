# Contributor: Radroxxx <radroxxx@gmail.com>
# Maintainer: Radroxxx <radroxxx@gmail.com>
pkgname=alpine-custom
pkgver=0.0.2
pkgrel=0
pkgdesc="Meta package for minimal alpine + docker in ram"
url="https://alpinelinux.org"
arch="noarch"
license="No"
makedepends=""
install=""
subpackages=""
replaces=""
source=""

# Базовая система
depends="alpine-base"

# Файловая подсистема
depends="${depends} btrfs-progs cryptsetup cryptsetup-openrc"

# Сетевая подсистема
depends="${depends} dhclient ip6tables ipset curl rsync wireguard-tools"

# Wifi
depends="${depends} wireless-tools wpa_supplicant"

# SSH
depends="${depends} dropbear dropbear-scp dropbear-openrc"

# Docker
depends="${depends} docker docker-openrc" 

# utils
depends="${depends} rsync docker-py dnsmasq"

build() {
	return 0
}

package() {
	mkdir -p "$pkgdir"/etc
	# create /etc/alpine-custom
	echo $pkgver > "$pkgdir"/etc/alpine-custom
	local _ver="$(echo "$pkgver" | grep -E -o '^[0-9]+\.[0-9]+')"
	local _rel="v$_ver"
}
